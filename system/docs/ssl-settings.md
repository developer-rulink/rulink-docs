# SSL сертификаты

<claude>заполни здесь, зачем нужны ssl сертификаты</claude>

## Как настроить wildcard-сертификат от авторизованного центра

<claude>заполни здесь, вводную про wildcard сертификаты и авторизованные центры сертификатов</claude>

### Почему необходимо wildcard-сертификат

Любой сервис Облакотех работает в паре с сервисом **Identity**, кроме того все сервисы должны работать в одном домене. Поэтому наилучшим решением будет применением wildcard сертификата.

## Как настроить самоподписанный сертификат

Вы можете самостоятельно сгенерировать сертификат.  
Для каждого публикуемого сервиса необходимо сгенерировать собственный ssl сертификат.

Для генерации сертификата выполните скрипт `generate-selfsigned-ssl.sh` с указанием доменного имени сервиса

``` bash
sudo bash -c /opt/services/z-config/generate-selfsigned-ssl.sh _ДОМЕННОЕ_ИМЯ_
```

Например: `sudo bash -c /opt/services/z-config/generate-selfsigned-ssl.sh crypto.oblakotech.ru`

??? Что делает скрипт
    1. Генерирует открытый и закрытый ключ  
    Файлы сертификата будут сохранены в директории `/opt/ssl/`:  
    - `/opt/ssl/{your_domain_name}.crt` - открытый ключ
    - `/opt/ssl/{your_domain_name}.key` - закрытый ключ  
    2. Добавляет ссылку на ключи в конфигурацию **nginx**  
    `/etc/nginx/snippets/ssl-{your_domain_name}.conf`  
    3. Устанавливает разрешения на файлы и папку `/opt/ssl/`

### Поведение браузера при работе с самоподписанными сертификатами

<claude>заполни здесь, как ведет себя браузер при работе с самоподписанными сертификатами</claude>
