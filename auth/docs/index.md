# Знакомство

Добро пожаловать в раздел документации по аутентификации! 

Здесь вы найдете подробные инструкции и информацию о том, как настроить, запустить и использовать сервер аутентификации в сервисах ОблакоТех.

## Как это работает
Любой сервис ОблакоТех может использовать сервер аутентификации для проверки подлинности пользователей. 

Когда пользователь пытается войти в сервис, сервис перенаправляет его на сервер аутентификации. 
Там пользователь вводит свои учетные данные, и сервер аутентификации проверяет их. 
Если учетные данные верны, сервер аутентификации перенаправляет пользователя обратно в сервис с подтверждением успешной 
аутентификации.

```mermaid
sequenceDiagram
    autonumber
    actor User as Пользователь
    participant Service as Сервис    
    participant Auth as Сервер Аутентификации


    User->>Service: Открывает страницу сервиса
    Service-->>User: 302 Redirect на Auth (/auth/login)
    User->>Auth: Переход по редиректу
    Auth-->>User: Форма входа
    User->>Auth: Ввод логина и пароля
    Auth->>Auth: Проверка учетных данных
    alt Учетные данные валидны
        Auth-->>User: Cookie с JWT
        User->>Service: Открывает страницу сервиса  
        Service->>Service: Проверка JWT из Cookie
        Service->>Auth: Запрос данных пользователя
        Auth-->>Service: Данные пользователя
        Service-->>User: Доступ к приложению (сеанс установлен)
    else Ошибка аутентификации
        Auth-->>User: Сообщение об ошибке
    end
```

## Как настроить